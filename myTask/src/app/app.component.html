<div class="container" style="text-align: center;">
  <form [formGroup]="arrayForm" (submit)="submitData()">
    <h2>From Array</h2>
    <label>Name:</label>
    <input type="text" name="username" id="username" formControlName="name" required>
    <span style="color: red;" *ngIf="(submitted || controls.name?.touched) && controls?.name?.errors?.required">Name is required</span><br><br>
    <!-- *ngIf="(submitted || controls?.gameTypeId?.touched) && controls?.gameTypeId?.errors?.required" -->
    <label>Address:</label>
    <input type="text" name="address" id="address" formControlName="address" required>
    <span style="color:red;" *ngIf="(submitted || controls.address?.touched) && controls?.address?.errors?.required">Address is required</span><br><br>
    <label>Phone no.:</label>
    <input type="text" name="phone" id="phone" formControlName="phone" required>
    <span style="color:red;" *ngIf="(submitted || controls.phone?.touched) && controls?.phone?.errors?.required">Phone number is required</span>
    <span style="color:red;" *ngIf="(submitted || controls.phone?.touched) && controls?.phone?.errors?.pattern">Phone number is not valid</span><br><br>
    <label>Email-ID:</label>
    <input type="email" name="email" id="email" formControlName="email" required>
    <span style="color:red;" *ngIf="(submitted || controls.email?.touched) && controls?.email?.errors?.required">Email is required</span>
    <span style="color:red;" *ngIf="(submitted || controls.email?.touched) && controls?.email?.errors?.pattern">Email is not valid</span><br><br>
    <label>Password:</label>
    <input type="password" name="password" id="password" formControlName="password" required>
    <span style="color:red;" *ngIf="(submitted || controls.password?.touched) && controls?.password?.errors?.required">Password is required</span>
    <span style="color:red;" *ngIf="(submitted || controls.password?.touched) && controls?.password?.errors?.pattern">Password is not valid</span><br><br>
    <label>Emergency Contact:</label>
    <button (click)="addContact()">Add</button>
<div formArrayName="emergencyContact">
  <div *ngFor="let contact of arrayForm.get('emergencyContact')?.controls; let i=index">
    <div [formGroupName]="i">
      {{i}}
      <label>Name:</label>
      <input type="text" formControlName="name"><br><br>
      <label>Contact No:</label>
      <input type="text" formControlName="ephone"><br><br>
      <button (click)="deleteContact(i)">Remove</button>
    </div>

  </div>

</div>


    <button [disabled]="!arrayForm.valid">Form Array</button>
  </form>
</div>
